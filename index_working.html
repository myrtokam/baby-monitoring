<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ’• MomBaby Journal - Î¤Î¿ Î—Î¼ÎµÏÎ¿Î»ÏŒÎ³Î¹Î¿ Î¼Î±Ï‚</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&family=Caveat:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --baby-pink: #FFB6D9;
            --soft-purple: #D4A5E0;
            --mint-cream: #B8E6D5;
            --peach: #FFD4B8;
            --lavender: #E8D5F2;
            --cream: #FFF9F5;
            --rose-gold: #F4C2C2;
            --sky-blue: #B8E2F2;
            --text-dark: #5A5A5A;
            --text-light: #8B8B8B;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(135deg, var(--cream) 0%, var(--lavender) 50%, var(--mint-cream) 100%);
            min-height: 100vh;
            color: var(--text-dark);
            overflow-x: hidden;
        }

        /* Floating hearts background */
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.7; }
            50% { transform: translateY(-30px) rotate(180deg); opacity: 0.3; }
        }

        .heart-bg {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .heart {
            position: absolute;
            font-size: 20px;
            opacity: 0.2;
            animation: float 8s ease-in-out infinite;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* Header */
        header {
            text-align: center;
            padding: 40px 20px;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            margin-bottom: 30px;
            box-shadow: 0 20px 60px rgba(255, 182, 217, 0.3);
            border: 3px solid rgba(255, 255, 255, 0.8);
            animation: slideDown 0.8s ease-out;
        }

        @keyframes slideDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        h1 {
            font-size: 3em;
            font-weight: 700;
            background: linear-gradient(135deg, var(--baby-pink), var(--soft-purple), var(--mint-cream));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            font-family: 'Caveat', cursive;
            letter-spacing: 2px;
        }

        .tagline {
            font-size: 1.2em;
            color: var(--text-light);
            font-weight: 500;
        }

        /* Tab Navigation */
        .tab-nav {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab-btn {
            background: white;
            padding: 15px 30px;
            border: 3px solid var(--baby-pink);
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            color: var(--text-dark);
            transition: all 0.3s ease;
            font-family: 'Quicksand', sans-serif;
        }

        .tab-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(255, 182, 217, 0.4);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, var(--baby-pink), var(--soft-purple));
            color: white;
            border-color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        /* Getting Started Section */
        .getting-started {
            background: white;
            padding: 50px;
            border-radius: 30px;
            margin-bottom: 30px;
            box-shadow: 0 20px 60px rgba(212, 165, 224, 0.2);
            text-align: center;
        }

        .getting-started h2 {
            font-size: 2.5em;
            color: var(--soft-purple);
            margin-bottom: 30px;
            font-family: 'Caveat', cursive;
        }

        .option-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 40px;
        }

        .option-card {
            background: linear-gradient(135deg, var(--lavender), var(--baby-pink));
            padding: 40px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 4px solid white;
            position: relative;
            overflow: hidden;
        }

        .option-card:hover {
            transform: translateY(-10px) rotate(-2deg);
            box-shadow: 0 20px 50px rgba(212, 165, 224, 0.5);
        }

        .option-card .icon {
            font-size: 4em;
            margin-bottom: 20px;
        }

        .option-card h3 {
            color: white;
            font-size: 1.8em;
            margin-bottom: 15px;
        }

        .option-card p {
            color: rgba(255, 255, 255, 0.95);
            font-size: 1.1em;
            line-height: 1.6;
        }

        /* Setup Form */
        .setup-form {
            background: white;
            padding: 40px;
            border-radius: 25px;
            margin-bottom: 30px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
        }

        .setup-form h3 {
            font-size: 2em;
            color: var(--soft-purple);
            margin-bottom: 25px;
            font-family: 'Caveat', cursive;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            font-weight: 600;
            color: var(--text-dark);
            font-size: 1em;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 12px 15px;
            border: 2px solid var(--lavender);
            border-radius: 12px;
            font-size: 1em;
            font-family: 'Quicksand', sans-serif;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--baby-pink);
            box-shadow: 0 0 0 3px rgba(255, 182, 217, 0.2);
        }

        .btn {
            background: linear-gradient(135deg, var(--soft-purple), var(--baby-pink));
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 25px;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Quicksand', sans-serif;
            box-shadow: 0 8px 20px rgba(212, 165, 224, 0.4);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(212, 165, 224, 0.6);
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--mint-cream), var(--sky-blue));
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--peach), var(--rose-gold));
            padding: 10px 20px;
            font-size: 0.95em;
        }

        /* Data Entry Section */
        .data-entry {
            background: white;
            padding: 40px;
            border-radius: 25px;
            margin-bottom: 25px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
        }

        .data-entry h3 {
            font-size: 2em;
            color: var(--baby-pink);
            margin-bottom: 20px;
            font-family: 'Caveat', cursive;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .quick-btn {
            background: linear-gradient(135deg, var(--baby-pink), var(--rose-gold));
            color: white;
            padding: 20px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            transition: all 0.3s ease;
            font-family: 'Quicksand', sans-serif;
            text-align: center;
        }

        .quick-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(255, 182, 217, 0.4);
        }

        .quick-btn .icon {
            display: block;
            font-size: 2em;
            margin-bottom: 10px;
        }

        /* Entry List */
        .entry-list {
            display: grid;
            gap: 15px;
        }

        .entry-item {
            background: linear-gradient(135deg, rgba(255, 182, 217, 0.1), rgba(212, 165, 224, 0.1));
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid var(--baby-pink);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .entry-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .entry-info {
            flex: 1;
        }

        .entry-time {
            font-weight: 600;
            color: var(--soft-purple);
            margin-bottom: 5px;
        }

        .entry-details {
            color: var(--text-light);
        }

        .entry-actions {
            display: flex;
            gap: 10px;
        }

        .btn-small {
            padding: 8px 15px;
            font-size: 0.9em;
            border-radius: 15px;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }

        .modal.active {
            display: flex;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease-out;
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 25px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: popIn 0.3s ease-out;
        }

        @keyframes popIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .modal-header h3 {
            font-size: 2em;
            color: var(--baby-pink);
            font-family: 'Caveat', cursive;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 2em;
            cursor: pointer;
            color: var(--text-light);
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            color: var(--baby-pink);
            transform: rotate(90deg);
        }

        /* Stats Display */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 4px solid;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card.pink { border-color: var(--baby-pink); }
        .stat-card.purple { border-color: var(--soft-purple); }
        .stat-card.mint { border-color: var(--mint-cream); }
        .stat-card.peach { border-color: var(--peach); }

        .stat-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .stat-value {
            font-size: 2.5em;
            font-weight: 700;
            color: var(--baby-pink);
            margin-bottom: 5px;
        }

        .stat-label {
            color: var(--text-light);
            font-weight: 600;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-light);
        }

        .empty-state-icon {
            font-size: 5em;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        /* Upload Section */
        .upload-section {
            background: white;
            padding: 40px;
            border-radius: 25px;
            margin-bottom: 30px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
        }

        .file-upload-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .file-upload-card {
            background: linear-gradient(135deg, var(--baby-pink), var(--rose-gold));
            padding: 25px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid white;
            text-align: center;
        }

        .file-upload-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(255, 182, 217, 0.5);
        }

        .file-upload-card .icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .file-upload-card h4 {
            color: white;
            font-size: 1.1em;
            margin-bottom: 8px;
        }

        .file-upload-card p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.85em;
        }

        input[type="file"] {
            display: none;
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 { font-size: 2em; }
            .option-cards { grid-template-columns: 1fr; }
            .form-grid { grid-template-columns: 1fr; }
            .quick-actions { grid-template-columns: 1fr; }
            .stats-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
<div class="heart-bg" id="heartBg"></div>

<div class="container">
    <header>
        <h1>ğŸ’• MomBaby Journal ğŸ‘¶</h1>
        <p class="tagline">Î¤Î¿ Ï€Î¹Î¿ Î³Î»Ï…ÎºÏŒ Î·Î¼ÎµÏÎ¿Î»ÏŒÎ³Î¹Î¿ Î³Î¹Î± ÏƒÎ­Î½Î± ÎºÎ±Î¹ Ï„Î¿ Î¼Ï‰ÏÎ¬ÎºÎ¹ ÏƒÎ¿Ï…! âœ¨</p>
    </header>

    <!-- Tab Navigation -->
    <div class="tab-nav">
        <button class="tab-btn active" data-tab="start" onclick="switchTab('start', this)">ğŸ  Î‘ÏÏ‡Î¹ÎºÎ®</button>
        <button class="tab-btn" data-tab="baby" onclick="switchTab('baby', this)" id="babyBtn">ğŸ‘¶ ÎœÏ‰ÏÎ¬ÎºÎ¹</button>
        <button class="tab-btn" data-tab="mama" onclick="switchTab('mama', this)" id="mamaBtn">ğŸ¤° ÎœÎ±Î¼Î¬</button>
        <button class="tab-btn" data-tab="stats" onclick="switchTab('stats', this)">ğŸ“Š Î£Ï„Î±Ï„Î¹ÏƒÏ„Î¹ÎºÎ¬</button>
        <button class="tab-btn" data-tab="upload" onclick="switchTab('upload', this)">ğŸ“ Î‘Î½Î­Î²Î±ÏƒÎ¼Î±</button>
    </div>

    <!-- Getting Started Tab -->
    <div class="tab-content active" id="startTab">
        <div class="getting-started">
            <h2>ğŸŒ¸ ÎšÎ±Î»ÏÏ‚ Î®ÏÎ¸ÎµÏ‚ Î±Î³Î¬Ï€Î· Î¼Î¿Ï…! ğŸŒ¸</h2>
            <p style="font-size: 1.2em; color: var(--text-light); margin-bottom: 40px;">
                Î ÏÏ‚ Î¸Î± Î®Î¸ÎµÎ»ÎµÏ‚ Î½Î± Î¾ÎµÎºÎ¹Î½Î®ÏƒÎµÎ¹Ï‚ Ï„Î¿ Î·Î¼ÎµÏÎ¿Î»ÏŒÎ³Î¹Î¿ ÏƒÎ¿Ï…;
            </p>

            <div class="option-cards">
                <div class="option-card" onclick="startFresh()">
                    <div class="icon">âœ¨</div>
                    <h3>ÎÎ­Î± ÎˆÎ½Î±ÏÎ¾Î·</h3>
                    <p>ÎÎµÎºÎ¯Î½Î± Î±Ï€ÏŒ Ï„Î·Î½ Î±ÏÏ‡Î®! Î˜Î± ÎºÎ±Ï„Î±Ï‡Ï‰ÏÎ®ÏƒÎµÎ¹Ï‚ Ï„Î± ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Î± ÏƒÎ¿Ï… ÎºÎ±Î¹ Î¸Î± Î±ÏÏ‡Î¯ÏƒÎµÎ¹Ï‚ Î½Î± Î³ÏÎ¬Ï†ÎµÎ¹Ï‚ Ï„Î¿ Î·Î¼ÎµÏÎ¿Î»ÏŒÎ³Î¹ÏŒ ÏƒÎ¿Ï….</p>
                </div>

                <div class="option-card" data-tab="upload" onclick="switchTab('upload', this)">
                    <div class="icon">ğŸ“</div>
                    <h3>ÎˆÏ‡Ï‰ Î‘ÏÏ‡ÎµÎ¯Î±</h3>
                    <p>Î‘Î½Î­Î²Î±ÏƒÎµ Ï„Î± CSV Î±ÏÏ‡ÎµÎ¯Î± Ï€Î¿Ï… Î­Ï‡ÎµÎ¹Ï‚ Î®Î´Î· ÎºÎ±Î¹ Î´ÎµÏ‚ ÏŒÎ»Î± Ï„Î± ÏƒÏ„Î±Ï„Î¹ÏƒÏ„Î¹ÎºÎ¬ ÏƒÎ¿Ï…!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Baby Tab -->
    <div class="tab-content" id="babyTab">
        <div class="setup-form" id="babySetup" style="display: none;">
            <h3>ğŸ‘¶ Î£Ï„Î¿Î¹Ï‡ÎµÎ¯Î± ÎœÏ‰ÏÎ¿Ï</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label>ÎŒÎ½Î¿Î¼Î± ÎœÏ‰ÏÎ¿Ï *</label>
                    <input type="text" id="babyName" placeholder="Ï€.Ï‡. Î£Î¿Ï†Î¯Î±">
                </div>
                <div class="form-group">
                    <label>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î“Î­Î½Î½Î·ÏƒÎ·Ï‚ *</label>
                    <input type="date" id="babyBirthDate">
                </div>
                <div class="form-group">
                    <label>Î’Î¬ÏÎ¿Ï‚ Î“Î­Î½Î½Î·ÏƒÎ·Ï‚ (kg)</label>
                    <input type="number" step="0.1" id="babyBirthWeight" placeholder="Ï€.Ï‡. 3.2">
                </div>
                <div class="form-group">
                    <label>ÎÏˆÎ¿Ï‚ Î“Î­Î½Î½Î·ÏƒÎ·Ï‚ (cm)</label>
                    <input type="number" id="babyBirthHeight" placeholder="Ï€.Ï‡. 50">
                </div>
                <div class="form-group">
                    <label>ÎŸÎ¼Î¬Î´Î± Î‘Î¯Î¼Î±Ï„Î¿Ï‚</label>
                    <select id="babyBloodType">
                        <option value="">Î•Ï€Î¹Î»Î­Î¾Ï„Îµ...</option>
                        <option value="A+">A+</option>
                        <option value="A-">A-</option>
                        <option value="B+">B+</option>
                        <option value="B-">B-</option>
                        <option value="AB+">AB+</option>
                        <option value="AB-">AB-</option>
                        <option value="O+">O+</option>
                        <option value="O-">O-</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Î¦ÏÎ»Î¿</label>
                    <select id="babyGender">
                        <option value="">Î•Ï€Î¹Î»Î­Î¾Ï„Îµ...</option>
                        <option value="female">ÎšÎ¿ÏÎ¹Ï„ÏƒÎ¬ÎºÎ¹</option>
                        <option value="male">Î‘Î³Î¿ÏÎ¬ÎºÎ¹</option>
                    </select>
                </div>
            
                <div class="form-group">
                    <label>Î ÎµÏÎ¯Î¼ÎµÏ„ÏÎ¿Ï‚ ÎšÎµÏ†Î±Î»Î¹Î¿Ï Î“Î­Î½Î½Î·ÏƒÎ·Ï‚ (cm)</label>
                    <input type="number" step="0.1" id="babyBirthHeadCircumference" placeholder="Ï€.Ï‡. 34">
                </div>
                <div class="form-group">
                    <label>Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚</label>
                    <textarea id="babyNotes" rows="3" placeholder="Ï€.Ï‡. Î Î±ÏÎ±Ï„Î·ÏÎ®ÏƒÎµÎ¹Ï‚, Î±Î»Î»ÎµÏÎ³Î¯ÎµÏ‚, Î¹Î´Î¹Î±Î¹Ï„ÎµÏÏŒÏ„Î·Ï„ÎµÏ‚..."></textarea>
                </div>
</div>
            <button class="btn" onclick="saveBabyProfile()">ğŸ’• Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·</button>
        </div>

        <div class="data-entry" id="babyData" style="display: none;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                <h3>ğŸ‘¶ ÎšÎ±Ï„Î±Î³ÏÎ±Ï†Î® Î³Î¹Î± Ï„Î¿ ÎœÏ‰ÏÎ¬ÎºÎ¹</h3>
                <button class="btn btn-secondary btn-small" onclick="exportBabyData()">ğŸ“¥ Î•Î¾Î±Î³Ï‰Î³Î® CSV</button>
            </div>

            <div class="quick-actions">
                <button class="quick-btn" onclick="openModal('feeding')">
                    <span class="icon">ğŸ¼</span>
                    Î¤Î±ÎÏƒÎ¼Î±
                </button>
                <button class="quick-btn" onclick="openModal('sleep')">
                    <span class="icon">ğŸ˜´</span>
                    ÎÏ€Î½Î¿Ï‚
                </button>
                <button class="quick-btn" onclick="openModal('diaper')">
                    <span class="icon">ğŸ’©</span>
                    Î Î¬Î½Î±
                </button>
                <button class="quick-btn" onclick="openModal('temperature')">
                    <span class="icon">ğŸŒ¡ï¸</span>
                    Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯Î±
                </button>
            </div>

            <h4 style="margin: 30px 0 15px 0; color: var(--soft-purple); font-family: 'Caveat', cursive; font-size: 1.5em;">
                Î£Î·Î¼ÎµÏÎ¹Î½Î­Ï‚ ÎšÎ±Ï„Î±Ï‡Ï‰ÏÎ®ÏƒÎµÎ¹Ï‚
            </h4>
            <div class="entry-list" id="babyEntries">
                <div class="empty-state">
                    <div class="empty-state-icon">ğŸ¼</div>
                    <p>Î”ÎµÎ½ Î­Ï‡ÎµÎ¹Ï‚ ÎºÎ±Ï„Î±Î³ÏÎ¬ÏˆÎµÎ¹ Ï„Î¯Ï€Î¿Ï„Î± Î±ÎºÏŒÎ¼Î± ÏƒÎ®Î¼ÎµÏÎ±!</p>
                    <p>Î Î¬Ï„Î± Ï„Î± ÎºÎ¿Ï…Î¼Ï€Î¹Î¬ Ï€Î±ÏÎ±Ï€Î¬Î½Ï‰ Î³Î¹Î± Î½Î± Î¾ÎµÎºÎ¹Î½Î®ÏƒÎµÎ¹Ï‚ ğŸ’•</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Mama Tab -->
    <div class="tab-content" id="mamaTab">
        <div class="setup-form" id="mamaSetup" style="display: none;">
            <h3>ğŸ¤° Î£Ï„Î¿Î¹Ï‡ÎµÎ¯Î± ÎœÎ±Î¼Î¬Ï‚</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label>ÎŒÎ½Î¿Î¼Î± ÎœÎ±Î¼Î¬Ï‚ *</label>
                    <input type="text" id="mamaName" placeholder="Ï€.Ï‡. ÎœÎ±ÏÎ¯Î±">
                </div>
                <div class="form-group">
                    <label>Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯Î± Î ÎµÏÎ¯Î¿Î´Î¿Ï‚ (LMP)</label>
                    <input type="date" id="mamaLMP">
                </div>
                <div class="form-group">
                    <label>Î Î¹Î¸Î±Î½Î® Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î¤Î¿ÎºÎµÏ„Î¿Ï (EDD)</label>
                    <input type="date" id="mamaDueDate">
                </div>
                <div class="form-group">
                    <label>ÎŸÎ¼Î¬Î´Î± Î‘Î¯Î¼Î±Ï„Î¿Ï‚</label>
                    <select id="mamaBloodType">
                        <option value="">Î•Ï€Î¹Î»Î­Î¾Ï„Îµ...</option>
                        <option value="A+">A+</option>
                        <option value="A-">A-</option>
                        <option value="B+">B+</option>
                        <option value="B-">B-</option>
                        <option value="AB+">AB+</option>
                        <option value="AB-">AB-</option>
                        <option value="O+">O+</option>
                        <option value="O-">O-</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î¤Î¿ÎºÎµÏ„Î¿Ï</label>
                    <input type="date" id="mamaDeliveryDate">
                </div>
                <div class="form-group">
                    <label>Î’Î¬ÏÎ¿Ï‚ Î ÏÎ¹Î½ (kg)</label>
                    <input type="number" step="0.1" id="mamaPreWeight" placeholder="Ï€.Ï‡. 65">
                </div>
                <div class="form-group">
                    <label>ÎÏˆÎ¿Ï‚ (cm)</label>
                    <input type="number" id="mamaHeight" placeholder="Ï€.Ï‡. 165">
                </div>
                <div class="form-group">
                    <label>Î“Î¹Î±Ï„ÏÏŒÏ‚</label>
                    <input type="text" id="mamaDoctor" placeholder="Ï€.Ï‡. Î”Ï. Î Î±Ï€Î±Î´ÏŒÏ€Î¿Ï…Î»Î¿Ï‚">
                </div>
                <div class="form-group">
                    <label>Î¤Î·Î»Î­Ï†Ï‰Î½Î¿ Î“Î¹Î±Ï„ÏÎ¿Ï</label>
                    <input type="tel" id="mamaDoctorPhone" placeholder="Ï€.Ï‡. 210-1234567">
                </div>
                <div class="form-group">
                    <label>ÎÎ¿ÏƒÎ¿ÎºÎ¿Î¼ÎµÎ¯Î¿ / ÎœÎ±Î¹ÎµÏ…Ï„Î®ÏÎ¹Î¿</label>
                    <input type="text" id="mamaHospital" placeholder="Ï€.Ï‡. Î™Î‘Î£Î©">
                </div>
                <div class="form-group">
                    <label>Î‘Î»Î»ÎµÏÎ³Î¯ÎµÏ‚</label>
                    <input type="text" id="mamaAllergies" placeholder="Ï€.Ï‡. Î ÎµÎ½Î¹ÎºÎ¹Î»Î¯Î½Î·">
                </div>
                <div class="form-group">
                    <label>Î§ÏÏŒÎ½Î¹ÎµÏ‚ Î Î±Î¸Î®ÏƒÎµÎ¹Ï‚</label>
                    <input type="text" id="mamaChronicConditions" placeholder="Ï€.Ï‡. Î˜Ï…ÏÎµÎ¿ÎµÎ¹Î´Î®Ï‚, Î´Î¹Î±Î²Î®Ï„Î·Ï‚...">
                </div>
                <div class="form-group">
                    <label>Î¤ÏÏ€Î¿Ï‚ Î¤Î¿ÎºÎµÏ„Î¿Ï</label>
                    <select id="mamaDeliveryType">
                        <option value="">Î•Ï€Î¹Î»Î­Î¾Ï„Îµ...</option>
                        <option value="vaginal">Î¦Ï…ÏƒÎ¹Î¿Î»Î¿Î³Î¹ÎºÏŒÏ‚</option>
                        <option value="c_section">ÎšÎ±Î¹ÏƒÎ±ÏÎ¹ÎºÎ®</option>
                        <option value="assisted">Î¥Ï€Î¿Î²Î¿Î·Î¸Î¿ÏÎ¼ÎµÎ½Î¿Ï‚</option>
                        <option value="other">Î†Î»Î»Î¿</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ÎŒÎ½Î¿Î¼Î± ÎœÏ‰ÏÎ¿Ï</label>
                    <input type="text" id="mamaBabyName" placeholder="Ï€.Ï‡. Î£Î¿Ï†Î¯Î±">
                </div>
                <div class="form-group">
                    <label>Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚</label>
                    <textarea id="mamaNotes" rows="3" placeholder="Ï€.Ï‡. Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚ Î³Î¹Î± Ï„Î·Î½ ÎµÎ³ÎºÏ…Î¼Î¿ÏƒÏÎ½Î·/Î»Î¿Ï‡ÎµÎ¯Î±..."></textarea>
                </div>

            </div>
            <button class="btn" onclick="saveMamaProfile()">ğŸ’• Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·</button>
        </div>

        <div class="data-entry" id="mamaData" style="display: none;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                <h3>ğŸ¤° ÎšÎ±Ï„Î±Î³ÏÎ±Ï†Î® Î³Î¹Î± Ï„Î· ÎœÎ±Î¼Î¬</h3>
                <button class="btn btn-secondary btn-small" onclick="exportMamaData()">ğŸ“¥ Î•Î¾Î±Î³Ï‰Î³Î® CSV</button>
            </div>

            <div class="quick-actions">
                <button class="quick-btn" onclick="openModal('mood')">
                    <span class="icon">ğŸ’­</span>
                    Î”Î¹Î¬Î¸ÎµÏƒÎ·
                </button>
                <button class="quick-btn" onclick="openModal('sleep-mama')">
                    <span class="icon">ğŸ˜´</span>
                    ÎÏ€Î½Î¿Ï‚
                </button>
                <button class="quick-btn" onclick="openModal('breastfeeding')">
                    <span class="icon">ğŸ¤±</span>
                    Î˜Î·Î»Î±ÏƒÎ¼ÏŒÏ‚
                </button>
                <button class="quick-btn" onclick="openModal('exercise')">
                    <span class="icon">ğŸš¶â€â™€ï¸</span>
                    Î†ÏƒÎºÎ·ÏƒÎ·
                </button>
            </div>

            <h4 style="margin: 30px 0 15px 0; color: var(--soft-purple); font-family: 'Caveat', cursive; font-size: 1.5em;">
                Î£Î·Î¼ÎµÏÎ¹Î½Î­Ï‚ ÎšÎ±Ï„Î±Ï‡Ï‰ÏÎ®ÏƒÎµÎ¹Ï‚
            </h4>
            <div class="entry-list" id="mamaEntries">
                <div class="empty-state">
                    <div class="empty-state-icon">ğŸ’•</div>
                    <p>Î”ÎµÎ½ Î­Ï‡ÎµÎ¹Ï‚ ÎºÎ±Ï„Î±Î³ÏÎ¬ÏˆÎµÎ¹ Ï„Î¯Ï€Î¿Ï„Î± Î±ÎºÏŒÎ¼Î± ÏƒÎ®Î¼ÎµÏÎ±!</p>
                    <p>Î Î¬Ï„Î± Ï„Î± ÎºÎ¿Ï…Î¼Ï€Î¹Î¬ Ï€Î±ÏÎ±Ï€Î¬Î½Ï‰ Î³Î¹Î± Î½Î± Î¾ÎµÎºÎ¹Î½Î®ÏƒÎµÎ¹Ï‚ ğŸ’•</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Stats Tab -->
    <div class="tab-content" id="statsTab">
        <div class="setup-form">
            <h3>ğŸ“Š Î¤Î± Î£Ï„Î±Ï„Î¹ÏƒÏ„Î¹ÎºÎ¬ Î¼Î±Ï‚</h3>
            <div class="stats-grid" id="statsDisplay">
                <div class="stat-card pink">
                    <div class="stat-icon">ğŸ¼</div>
                    <div class="stat-value" id="feedingCount">0</div>
                    <div class="stat-label">Î¤Î±ÎÏƒÎ¼Î±Ï„Î± Î£Î®Î¼ÎµÏÎ±</div>
                </div>
                <div class="stat-card purple">
                    <div class="stat-icon">ğŸ˜´</div>
                    <div class="stat-value" id="sleepHours">0</div>
                    <div class="stat-label">ÎÏÎµÏ‚ ÎÏ€Î½Î¿Ï… Baby</div>
                </div>
                <div class="stat-card mint">
                    <div class="stat-icon">ğŸ’©</div>
                    <div class="stat-value" id="diaperCount">0</div>
                    <div class="stat-label">Î Î¬Î½ÎµÏ‚ Î£Î®Î¼ÎµÏÎ±</div>
                </div>
                <div class="stat-card peach">
                    <div class="stat-icon">ğŸ’­</div>
                    <div class="stat-value" id="moodAvg">-</div>
                    <div class="stat-label">Î”Î¹Î¬Î¸ÎµÏƒÎ· ÎœÎ±Î¼Î¬Ï‚</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Upload Tab -->
    <div class="tab-content" id="uploadTab">
        <div class="upload-section">
            <h3 style="font-size: 2em; color: var(--baby-pink); margin-bottom: 20px; font-family: 'Caveat', cursive;">
                ğŸ“ Î‘Î½Î­Î²Î±ÏƒÎµ Ï„Î± Î‘ÏÏ‡ÎµÎ¯Î± ÏƒÎ¿Ï…
            </h3>
            <p style="color: var(--text-light); margin-bottom: 30px;">
                Î‘Î½Î­Î²Î±ÏƒÎµ CSV Î±ÏÏ‡ÎµÎ¯Î± Î³Î¹Î± Î½Î± Î´ÎµÎ¹Ï‚ ÏŒÎ»Î± Ï„Î± ÏƒÏ„Î±Ï„Î¹ÏƒÏ„Î¹ÎºÎ¬ ÏƒÎ¿Ï…! ğŸ’–
            </p>

            <div class="file-upload-grid">
                <div class="file-upload-card" onclick="document.getElementById('babyProfileFile').click()">
                    <div class="icon">ğŸ‘¶</div>
                    <h4>Baby Profile</h4>
                    <p id="babyProfileFileName">Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Î±ÏÏ‡ÎµÎ¯Î¿...</p>
                    <input type="file" id="babyProfileFile" accept=".csv">
                </div>

                <div class="file-upload-card" onclick="document.getElementById('babyDataFile').click()">
                    <div class="icon">ğŸ¼</div>
                    <h4>Baby Data</h4>
                    <p id="babyDataFileName">Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Î±ÏÏ‡ÎµÎ¯Î¿...</p>
                    <input type="file" id="babyDataFile" accept=".csv">
                </div>

                <div class="file-upload-card" onclick="document.getElementById('mamaProfileFile').click()">
                    <div class="icon">ğŸ¤°</div>
                    <h4>Mama Profile</h4>
                    <p id="mamaProfileFileName">Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Î±ÏÏ‡ÎµÎ¯Î¿...</p>
                    <input type="file" id="mamaProfileFile" accept=".csv">
                </div>

                <div class="file-upload-card" onclick="document.getElementById('mamaDataFile').click()">
                    <div class="icon">ğŸ’•</div>
                    <h4>Mama Data</h4>
                    <p id="mamaDataFileName">Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Î±ÏÏ‡ÎµÎ¯Î¿...</p>
                    <input type="file" id="mamaDataFile" accept=".csv">
                </div>
            </div>

            <button class="btn" id="uploadAnalyzeBtn" disabled style="margin-top: 30px;">
                âœ¨ Î‘Î½Î¬Î»Ï…ÏƒÎ· Î‘ÏÏ‡ÎµÎ¯Ï‰Î½ âœ¨
            </button>
        </div>
    </div>
</div>

<!-- Modal for Data Entry -->
<div class="modal" id="entryModal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 id="modalTitle">ÎÎ­Î± ÎšÎ±Ï„Î±Ï‡ÏÏÎ·ÏƒÎ·</h3>
            <button class="close-btn" onclick="closeModal()">&times;</button>
        </div>
        <div id="modalBody"></div>
    </div>
</div>

<script>
    // Create floating hearts
    function createHearts() {
        const heartBg = document.getElementById('heartBg');
        const hearts = ['ğŸ’•', 'ğŸ’–', 'ğŸ’—', 'ğŸ’“', 'ğŸ’', 'ğŸŒ¸', 'ğŸŒº', 'ğŸ¦‹', 'âœ¨', 'â­'];

        for (let i = 0; i < 30; i++) {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
            heart.style.left = Math.random() * 100 + '%';
            heart.style.top = Math.random() * 100 + '%';
            heart.style.animationDelay = Math.random() * 5 + 's';
            heartBg.appendChild(heart);
        }
    }

    createHearts();

    // Data storage
    let appData = {
        babyProfile: null,
        mamaProfile: null,
        babyEntries: [],
        mamaEntries: []
    };

    // Load from localStorage
    function loadFromStorage() {
        const stored = localStorage.getItem('mombaby_data');
        if (stored) {
            appData = JSON.parse(stored);
            updateUI();
        }
    }

    // Save to localStorage
    function saveToStorage() {
        localStorage.setItem('mombaby_data', JSON.stringify(appData));
    }

    // Tab switching
    function switchTab(tab, btn) {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));

        const targetBtn = btn || document.querySelector(`.tab-btn[data-tab="${tab}"]`);
        if (targetBtn) targetBtn.classList.add('active');

        const panel = document.getElementById(tab + 'Tab');
        if (panel) panel.classList.add('active');

        updateUI();
    }

    // Start fresh
    function startFresh() {
        document.getElementById('babySetup').style.display = 'block';
        document.getElementById('mamaSetup').style.display = 'block';
        switchTab('baby');
    }

    // Save baby profile
    function saveBabyProfile() {
        appData.babyProfile = {
            name: document.getElementById('babyName').value,
            birthDate: document.getElementById('babyBirthDate').value,
            birthWeight: document.getElementById('babyBirthWeight').value,
            birthHeight: document.getElementById('babyBirthHeight').value,
            bloodType: document.getElementById('babyBloodType').value,
            gender: document.getElementById('babyGender').value,
            birthHeadCircumference: document.getElementById('babyBirthHeadCircumference').value,
            notes: document.getElementById('babyNotes').value
        };

        saveToStorage();
        document.getElementById('babySetup').style.display = 'none';
        document.getElementById('babyData').style.display = 'block';
        alert('âœ¨ Î¤Î± ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Î± Ï„Î¿Ï… Î¼Ï‰ÏÎ¿Ï Î±Ï€Î¿Î¸Î·ÎºÎµÏÏ„Î·ÎºÎ±Î½!');
    }

    // Save mama profile
    function saveMamaProfile() {
        appData.mamaProfile = {
            name: document.getElementById('mamaName').value,
            deliveryDate: document.getElementById('mamaDeliveryDate').value,
            preWeight: document.getElementById('mamaPreWeight').value,
            height: document.getElementById('mamaHeight').value,
            doctor: document.getElementById('mamaDoctor').value,
            doctorPhone: document.getElementById('mamaDoctorPhone').value,
            lastMenstrualPeriod: document.getElementById('mamaLMP').value,
            expectedDueDate: document.getElementById('mamaDueDate').value,
            bloodType: document.getElementById('mamaBloodType').value,
            hospital: document.getElementById('mamaHospital').value,
            allergies: document.getElementById('mamaAllergies').value,
            chronicConditions: document.getElementById('mamaChronicConditions').value,
            deliveryType: document.getElementById('mamaDeliveryType').value,
            babyName: document.getElementById('mamaBabyName').value,
            notes: document.getElementById('mamaNotes').value
        };

        saveToStorage();
        document.getElementById('mamaSetup').style.display = 'none';
        document.getElementById('mamaData').style.display = 'block';
        alert('âœ¨ Î¤Î± ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Î± ÏƒÎ¿Ï… Î±Ï€Î¿Î¸Î·ÎºÎµÏÏ„Î·ÎºÎ±Î½!');
    }

    // Open modal for data entry
    function openModal(type) {
        const modal = document.getElementById('entryModal');
        const title = document.getElementById('modalTitle');
        const body = document.getElementById('modalBody');

        const forms = {
            'feeding': `
                    <div class="form-group">
                        <label>Î¤ÏÏ€Î¿Ï‚</label>
                        <select id="feedingType">
                            <option value="breast">ÎœÎ·Ï„ÏÎ¹ÎºÏŒ</option>
                            <option value="bottle">ÎœÏ€Î¹Î¼Ï€ÎµÏÏŒ</option>
                            <option value="solid">Î£Ï„ÎµÏÎµÎ¬</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Î Î¿ÏƒÏŒÏ„Î·Ï„Î± (ml)</label>
                        <input type="number" id="feedingAmount">
                    </div>
                    <div class="form-group">
                        <label>Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚</label>
                        <textarea id="feedingNotes" rows="3"></textarea>
                    </div>
                    <button class="btn" onclick="saveFeeding()">ğŸ’• Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·</button>
                `,
            'sleep': `
                    <div class="form-group">
                        <label>ÎÏÎ± ÎˆÎ½Î±ÏÎ¾Î·Ï‚</label>
                        <input type="time" id="sleepStart">
                    </div>
                    <div class="form-group">
                        <label>ÎÏÎ± Î‘Ï†ÏÏ€Î½Î¹ÏƒÎ·Ï‚</label>
                        <input type="time" id="sleepEnd">
                    </div>
                    <div class="form-group">
                        <label>Î Î¿Î¹ÏŒÏ„Î·Ï„Î±</label>
                        <select id="sleepQuality">
                            <option value="peaceful">Î‰ÏÎµÎ¼Î¿Ï‚</option>
                            <option value="restless">Î‘Î½Î®ÏƒÏ…Ï‡Î¿Ï‚</option>
                        </select>
                    </div>
                    <button class="btn" onclick="saveSleep()">ğŸ’• Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·</button>
                `,
            'diaper': `
                    <div class="form-group">
                        <label>Î¤ÏÏ€Î¿Ï‚</label>
                        <select id="diaperType">
                            <option value="wet">Î¥Î³ÏÎ®</option>
                            <option value="dirty">Î’ÏÏÎ¼Î¹ÎºÎ·</option>
                            <option value="both">ÎšÎ±Î¹ Ï„Î± Î´ÏÎ¿</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚</label>
                        <textarea id="diaperNotes" rows="3"></textarea>
                    </div>
                    <button class="btn" onclick="saveDiaper()">ğŸ’• Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·</button>
                `,
            'temperature': `
                    <div class="form-group">
                        <label>Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯Î± (Â°C)</label>
                        <input type="number" step="0.1" id="tempValue">
                    </div>
                    <div class="form-group">
                        <label>ÎœÎ­Î¸Î¿Î´Î¿Ï‚</label>
                        <select id="tempMethod">
                            <option value="armpit">ÎœÎ±ÏƒÏ‡Î¬Î»Î·</option>
                            <option value="forehead">ÎœÎ­Ï„Ï‰Ï€Î¿</option>
                            <option value="ear">Î©Ï„Î¹ÎºÎ®</option>
                        </select>
                    </div>
                    <button class="btn" onclick="saveTemperature()">ğŸ’• Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·</button>
                `,
            'mood': `
                    <div class="form-group">
                        <label>Î”Î¹Î¬Î¸ÎµÏƒÎ· (1-10)</label>
                        <input type="range" min="1" max="10" id="moodScale" oninput="document.getElementById('moodValue').textContent=this.value">
                        <div style="text-align: center; font-size: 2em; color: var(--baby-pink);" id="moodValue">5</div>
                    </div>
                    <div class="form-group">
                        <label>ÎšÏ…ÏÎ¯Î±ÏÏ‡Î¿ Î£Ï…Î½Î±Î¯ÏƒÎ¸Î·Î¼Î±</label>
                        <select id="moodEmotion">
                            <option value="happy">Î§Î±ÏÎ¿ÏÎ¼ÎµÎ½Î· ğŸ˜Š</option>
                            <option value="tired">ÎšÎ¿Ï…ÏÎ±ÏƒÎ¼Î­Î½Î· ğŸ˜´</option>
                            <option value="anxious">Î‘Î½Î®ÏƒÏ…Ï‡Î· ğŸ˜°</option>
                            <option value="stressed">Î£Ï„ÏÎµÏƒÎ±ÏÎ¹ÏƒÎ¼Î­Î½Î· ğŸ˜£</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚</label>
                        <textarea id="moodNotes" rows="3"></textarea>
                    </div>
                    <button class="btn" onclick="saveMood()">ğŸ’• Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·</button>
                `,
            'sleep-mama': `
                    <div class="form-group">
                        <label>ÎÏÎµÏ‚ ÎÏ€Î½Î¿Ï…</label>
                        <input type="number" step="0.5" id="mamaSleepHours">
                    </div>
                    <div class="form-group">
                        <label>Î Î¿Î¹ÏŒÏ„Î·Ï„Î± (1-10)</label>
                        <input type="range" min="1" max="10" id="mamaSleepQuality" oninput="document.getElementById('sleepQualityValue').textContent=this.value">
                        <div style="text-align: center; font-size: 2em; color: var(--baby-pink);" id="sleepQualityValue">5</div>
                    </div>
                    <button class="btn" onclick="saveMamaSleep()">ğŸ’• Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·</button>
                `,
            'breastfeeding': `
                    <div class="form-group">
                        <label>Î£Ï„Î®Î¸Î¿Ï‚</label>
                        <select id="breastSide">
                            <option value="left">Î‘ÏÎ¹ÏƒÏ„ÎµÏÏŒ</option>
                            <option value="right">Î”ÎµÎ¾Î¯</option>
                            <option value="both">ÎšÎ±Î¹ Ï„Î± Î´ÏÎ¿</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Î”Î¹Î¬ÏÎºÎµÎ¹Î± (Î»ÎµÏ€Ï„Î¬)</label>
                        <input type="number" id="breastDuration">
                    </div>
                    <button class="btn" onclick="saveBreastfeeding()">ğŸ’• Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·</button>
                `,
            'exercise': `
                    <div class="form-group">
                        <label>Î¤ÏÏ€Î¿Ï‚ Î†ÏƒÎºÎ·ÏƒÎ·Ï‚</label>
                        <select id="exerciseType">
                            <option value="walking">Î ÎµÏÏ€Î¬Ï„Î·Î¼Î±</option>
                            <option value="yoga">Î“Î¹ÏŒÎ³ÎºÎ±</option>
                            <option value="swimming">ÎšÎ¿Î»ÏÎ¼Î²Î·ÏƒÎ·</option>
                            <option value="other">Î†Î»Î»Î¿</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Î”Î¹Î¬ÏÎºÎµÎ¹Î± (Î»ÎµÏ€Ï„Î¬)</label>
                        <input type="number" id="exerciseDuration">
                    </div>
                    <button class="btn" onclick="saveExercise()">ğŸ’• Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·</button>
                `
        };

        const titles = {
            'feeding': 'ğŸ¼ Î¤Î±ÎÏƒÎ¼Î±',
            'sleep': 'ğŸ˜´ ÎÏ€Î½Î¿Ï‚ ÎœÏ‰ÏÎ¿Ï',
            'diaper': 'ğŸ’© Î‘Î»Î»Î±Î³Î® Î Î¬Î½Î±Ï‚',
            'temperature': 'ğŸŒ¡ï¸ Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯Î±',
            'mood': 'ğŸ’­ Î”Î¹Î¬Î¸ÎµÏƒÎ· ÎœÎ±Î¼Î¬Ï‚',
            'sleep-mama': 'ğŸ˜´ ÎÏ€Î½Î¿Ï‚ ÎœÎ±Î¼Î¬Ï‚',
            'breastfeeding': 'ğŸ¤± Î˜Î·Î»Î±ÏƒÎ¼ÏŒÏ‚',
            'exercise': 'ğŸš¶â€â™€ï¸ Î†ÏƒÎºÎ·ÏƒÎ·'
        };

        title.textContent = titles[type];
        body.innerHTML = forms[type];
        modal.classList.add('active');
    }

    function closeModal() {
        document.getElementById('entryModal').classList.remove('active');
    }

    // Save functions
    function saveFeeding() {
        const entry = {
            date: new Date().toISOString().split('T')[0],
            time: new Date().toTimeString().split(' ')[0].slice(0,5),
            activity: 'feeding',
            type: document.getElementById('feedingType').value,
            amount: document.getElementById('feedingAmount').value,
            notes: document.getElementById('feedingNotes').value
        };
        appData.babyEntries.push(entry);
        saveToStorage();
        closeModal();
        updateBabyEntries();
        updateStats();
    }

    function saveSleep() {
        const start = document.getElementById('sleepStart').value;
        const end = document.getElementById('sleepEnd').value;
        const duration = calculateDuration(start, end);

        const entry = {
            date: new Date().toISOString().split('T')[0],
            time: start,
            activity: 'sleep',
            duration: duration,
            quality: document.getElementById('sleepQuality').value
        };
        appData.babyEntries.push(entry);
        saveToStorage();
        closeModal();
        updateBabyEntries();
        updateStats();
    }

    function saveDiaper() {
        const entry = {
            date: new Date().toISOString().split('T')[0],
            time: new Date().toTimeString().split(' ')[0].slice(0,5),
            activity: 'diaper',
            type: document.getElementById('diaperType').value,
            notes: document.getElementById('diaperNotes').value
        };
        appData.babyEntries.push(entry);
        saveToStorage();
        closeModal();
        updateBabyEntries();
        updateStats();
    }

    function saveTemperature() {
        const entry = {
            date: new Date().toISOString().split('T')[0],
            time: new Date().toTimeString().split(' ')[0].slice(0,5),
            activity: 'temperature',
            value: document.getElementById('tempValue').value,
            method: document.getElementById('tempMethod').value
        };
        appData.babyEntries.push(entry);
        saveToStorage();
        closeModal();
        updateBabyEntries();
        updateStats();
    }

    function saveMood() {
        const entry = {
            date: new Date().toISOString().split('T')[0],
            time: new Date().toTimeString().split(' ')[0].slice(0,5),
            activity: 'mood',
            scale: document.getElementById('moodScale').value,
            emotion: document.getElementById('moodEmotion').value,
            notes: document.getElementById('moodNotes').value
        };
        appData.mamaEntries.push(entry);
        saveToStorage();
        closeModal();
        updateMamaEntries();
        updateStats();
    }

    function saveMamaSleep() {
        const entry = {
            date: new Date().toISOString().split('T')[0],
            time: new Date().toTimeString().split(' ')[0].slice(0,5),
            activity: 'mama_sleep',
            hours: document.getElementById('mamaSleepHours').value,
            quality: document.getElementById('mamaSleepQuality').value
        };
        appData.mamaEntries.push(entry);
        saveToStorage();
        closeModal();
        updateMamaEntries();
        updateStats();
    }

    function saveBreastfeeding() {
        const entry = {
            date: new Date().toISOString().split('T')[0],
            time: new Date().toTimeString().split(' ')[0].slice(0,5),
            activity: 'breastfeeding',
            side: document.getElementById('breastSide').value,
            duration: document.getElementById('breastDuration').value
        };
        appData.mamaEntries.push(entry);
        saveToStorage();
        closeModal();
        updateMamaEntries();
        updateStats();
    }

    function saveExercise() {
        const entry = {
            date: new Date().toISOString().split('T')[0],
            time: new Date().toTimeString().split(' ')[0].slice(0,5),
            activity: 'exercise',
            type: document.getElementById('exerciseType').value,
            duration: document.getElementById('exerciseDuration').value
        };
        appData.mamaEntries.push(entry);
        saveToStorage();
        closeModal();
        updateMamaEntries();
        updateStats();
    }

    // Helper functions
    function calculateDuration(start, end) {
        const [sh, sm] = start.split(':').map(Number);
        const [eh, em] = end.split(':').map(Number);
        let diff = (eh * 60 + em) - (sh * 60 + sm);
        if (diff < 0) diff += 24 * 60; // cross midnight
        return diff;
    }

    function updateBabyEntries() {
        const list = document.getElementById('babyEntries');
        const today = new Date().toISOString().split('T')[0];
        const todayEntries = appData.babyEntries.filter(e => e.date === today);

        if (todayEntries.length === 0) {
            list.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">ğŸ¼</div>
                        <p>Î”ÎµÎ½ Î­Ï‡ÎµÎ¹Ï‚ ÎºÎ±Ï„Î±Î³ÏÎ¬ÏˆÎµÎ¹ Ï„Î¯Ï€Î¿Ï„Î± Î±ÎºÏŒÎ¼Î± ÏƒÎ®Î¼ÎµÏÎ±!</p>
                    </div>
                `;
            return;
        }

        list.innerHTML = todayEntries.reverse().map((entry, index) => `
                <div class="entry-item">
                    <div class="entry-info">
                        <div class="entry-time">â° ${entry.time}</div>
                        <div class="entry-details">
                            ${entry.activity === 'feeding' ? `ğŸ¼ Î¤Î±ÎÏƒÎ¼Î± (${entry.type}) - ${entry.amount || ''}ml` : ''}
                            ${entry.activity === 'sleep' ? `ğŸ˜´ ÎÏ€Î½Î¿Ï‚ - ${entry.duration || 0} Î»ÎµÏ€Ï„Î¬` : ''}
                            ${entry.activity === 'diaper' ? `ğŸ’© Î Î¬Î½Î± (${entry.type})` : ''}
                            ${entry.activity === 'temperature' ? `ğŸŒ¡ï¸ Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯Î±: ${entry.value}Â°C` : ''}
                        </div>
                    </div>
                    <div class="entry-actions">
                        <button class="btn btn-danger btn-small" onclick="deleteEntry('baby', ${appData.babyEntries.length - 1 - index})">ğŸ—‘ï¸</button>
                    </div>
                </div>
            `).join('');
    }

    function updateMamaEntries() {
        const list = document.getElementById('mamaEntries');
        const today = new Date().toISOString().split('T')[0];
        const todayEntries = appData.mamaEntries.filter(e => e.date === today);

        if (todayEntries.length === 0) {
            list.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">ğŸ’•</div>
                        <p>Î”ÎµÎ½ Î­Ï‡ÎµÎ¹Ï‚ ÎºÎ±Ï„Î±Î³ÏÎ¬ÏˆÎµÎ¹ Ï„Î¯Ï€Î¿Ï„Î± Î±ÎºÏŒÎ¼Î± ÏƒÎ®Î¼ÎµÏÎ±!</p>
                    </div>
                `;
            return;
        }

        list.innerHTML = todayEntries.reverse().map((entry, index) => `
                <div class="entry-item">
                    <div class="entry-info">
                        <div class="entry-time">â° ${entry.time}</div>
                        <div class="entry-details">
                            ${entry.activity === 'mood' ? `ğŸ’­ Î”Î¹Î¬Î¸ÎµÏƒÎ·: ${entry.scale}/10 (${entry.emotion})` : ''}
                            ${entry.activity === 'mama_sleep' ? `ğŸ˜´ ÎÏ€Î½Î¿Ï‚: ${entry.hours} ÏÏÎµÏ‚` : ''}
                            ${entry.activity === 'breastfeeding' ? `ğŸ¤± Î˜Î·Î»Î±ÏƒÎ¼ÏŒÏ‚ (${entry.side}) - ${entry.duration} Î»ÎµÏ€Ï„Î¬` : ''}
                            ${entry.activity === 'exercise' ? `ğŸš¶â€â™€ï¸ Î†ÏƒÎºÎ·ÏƒÎ· (${entry.type}) - ${entry.duration} Î»ÎµÏ€Ï„Î¬` : ''}
                        </div>
                    </div>
                    <div class="entry-actions">
                        <button class="btn btn-danger btn-small" onclick="deleteEntry('mama', ${appData.mamaEntries.length - 1 - index})">ğŸ—‘ï¸</button>
                    </div>
                </div>
            `).join('');
    }

    function deleteEntry(type, index) {
        if (confirm('Î•Î¯ÏƒÎ±Î¹ ÏƒÎ¯Î³Î¿Ï…ÏÎ· ÏŒÏ„Î¹ Î¸Î­Î»ÎµÎ¹Ï‚ Î½Î± Î´Î¹Î±Î³ÏÎ¬ÏˆÎµÎ¹Ï‚ Î±Ï…Ï„Î® Ï„Î·Î½ ÎºÎ±Ï„Î±Ï‡ÏÏÎ·ÏƒÎ·;')) {
            if (type === 'baby') {
                appData.babyEntries.splice(index, 1);
                updateBabyEntries();
            } else {
                appData.mamaEntries.splice(index, 1);
                updateMamaEntries();
            }
            saveToStorage();
            updateStats();
        }
    }

    function updateStats() {
        const today = new Date().toISOString().split('T')[0];

        // Baby stats
        const todayFeedings = appData.babyEntries.filter(e => e.date === today && e.activity === 'feeding').length;
        const todayDiapers = appData.babyEntries.filter(e => e.date === today && e.activity === 'diaper').length;
        const sleepEntries = appData.babyEntries.filter(e => e.date === today && e.activity === 'sleep');
        const totalSleepMinutes = sleepEntries.reduce((sum, e) => sum + (parseInt(e.duration) || 0), 0);

        document.getElementById('feedingCount').textContent = todayFeedings;
        document.getElementById('diaperCount').textContent = todayDiapers;
        document.getElementById('sleepHours').textContent = (totalSleepMinutes / 60).toFixed(1);

        // Mama stats
        const todayMood = appData.mamaEntries.filter(e => e.date === today && e.activity === 'mood');
        if (todayMood.length > 0) {
            const avgMood = todayMood.reduce((sum, e) => sum + parseInt(e.scale), 0) / todayMood.length;
            document.getElementById('moodAvg').textContent = avgMood.toFixed(1) + '/10';
        }
    }

    function updateUI() {
        if (appData.babyProfile) {
            document.getElementById('babySetup').style.display = 'none';
            document.getElementById('babyData').style.display = 'block';
            updateBabyEntries();
        }

        if (appData.mamaProfile) {
            document.getElementById('mamaSetup').style.display = 'none';
            document.getElementById('mamaData').style.display = 'block';
            updateMamaEntries();
        }

        updateStats();
    }

    // Export functions
    function exportBabyData() {
        let csv = 'date,time,activity,type,value,duration,notes\n';
        appData.babyEntries.forEach(e => {
            csv += `${e.date},${e.time},${e.activity},${e.type || ''},${e.value || e.amount || ''},${e.duration || ''},${e.notes || ''}\n`;
        });
        downloadCSV(csv, 'baby_data.csv');
    }

    function exportMamaData() {
        let csv = 'date,time,activity,type,value,notes\n';
        appData.mamaEntries.forEach(e => {
            csv += `${e.date},${e.time},${e.activity},${e.type || e.side || ''},${e.scale || e.hours || e.duration || ''},${e.notes || ''}\n`;
        });
        downloadCSV(csv, 'mama_data.csv');
    }

    function downloadCSV(content, filename) {
        const blob = new Blob([content], { type: 'text/csv' });
        const url = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = filename;
        a.click();
    }

    
    // -------------------------
    // CSV IMPORT (Profiles & Data)
    // -------------------------
    function parseCSVLineJS(line) {
        const out = [];
        let cur = '';
        let inQuotes = false;

        for (let i = 0; i < line.length; i++) {
            const ch = line[i];

            if (ch === '"') {
                if (inQuotes && line[i + 1] === '"') {
                    cur += '"';
                    i++;
                } else {
                    inQuotes = !inQuotes;
                }
            } else if (ch === ',' && !inQuotes) {
                out.push(cur);
                cur = '';
            } else {
                cur += ch;
            }
        }
        out.push(cur);
        return out.map(s => s.trim());
    }

    function parseCSVJS(text) {
        const normalized = text.replace(/\r\n/g, '\n').replace(/\r/g, '\n').trim();
        const lines = normalized.split('\n').filter(l => l.trim().length > 0);
        if (lines.length === 0) return { headers: [], rows: [] };

        const headers = parseCSVLineJS(lines[0]);
        const rows = lines.slice(1).map(l => parseCSVLineJS(l));
        return { headers, rows };
    }

    function csvToKeyValueMap(text) {
        const { headers, rows } = parseCSVJS(text);
        if (headers.length < 2) return null;

        // Expect: field,value
        const h0 = (headers[0] || '').toLowerCase();
        const h1 = (headers[1] || '').toLowerCase();
        if (h0 !== 'field' || h1 !== 'value') return null;

        const map = {};
        rows.forEach(r => {
            const k = (r[0] || '').trim();
            const v = (r[1] || '').trim();
            if (k) map[k] = v;
        });
        return map;
    }

    function applyBabyProfileFromMap(map) {
        // Map keys based on your BABY_PROFILE.csv
        const baby = {
            name: map.baby_name || map.name || '',
            birthDate: map.birth_date || '',
            birthWeight: map.birth_weight_kg || map.birth_weight || '',
            birthHeight: map.birth_height_cm || map.birth_height || '',
            birthHeadCircumference: map.birth_head_circumference_cm || map.birth_head_circumference || '',
            bloodType: map.blood_type || '',
            gender: map.gender || '',
            notes: map.notes || ''
        };

        // Fill form (if visible)
        const setVal = (id, val) => { const el = document.getElementById(id); if (el) el.value = val || ''; };
        setVal('babyName', baby.name);
        setVal('babyBirthDate', baby.birthDate);
        setVal('babyBirthWeight', baby.birthWeight);
        setVal('babyBirthHeight', baby.birthHeight);
        setVal('babyBirthHeadCircumference', baby.birthHeadCircumference);
        setVal('babyBloodType', baby.bloodType);
        setVal('babyGender', baby.gender);
        setVal('babyNotes', baby.notes);

        appData.babyProfile = baby;
        saveToStorage();
    }

    function applyMamaProfileFromMap(map) {
        // Map keys based on Main.java (loadMamaProfile)
        const mama = {
            name: map.name || map.mama_name || '',
            lastMenstrualPeriod: map.last_menstrual_period || map.lmp || '',
            expectedDueDate: map.expected_due_date || map.edd || '',
            preWeight: map.pre_pregnancy_weight || map.pre_pregnancy_weight_kg || map.pre_weight || '',
            bloodType: map.blood_type || '',
            height: map.height || map.height_cm || '',
            doctor: map.doctor_name || map.doctor || '',
            doctorPhone: map.doctor_phone || '',
            hospital: map.hospital || '',
            allergies: map.allergies || '',
            chronicConditions: map.chronic_conditions || '',
            deliveryDate: map.delivery_date || '',
            deliveryType: map.delivery_type || '',
            babyName: map.baby_name || '',
            notes: map.notes || ''
        };

        const setVal = (id, val) => { const el = document.getElementById(id); if (el) el.value = val || ''; };
        setVal('mamaName', mama.name);
        setVal('mamaLMP', mama.lastMenstrualPeriod);
        setVal('mamaDueDate', mama.expectedDueDate);
        setVal('mamaPreWeight', mama.preWeight);
        setVal('mamaBloodType', mama.bloodType);
        setVal('mamaHeight', mama.height);
        setVal('mamaDoctor', mama.doctor);
        setVal('mamaDoctorPhone', mama.doctorPhone);
        setVal('mamaHospital', mama.hospital);
        setVal('mamaAllergies', mama.allergies);
        setVal('mamaChronicConditions', mama.chronicConditions);
        setVal('mamaDeliveryDate', mama.deliveryDate);
        setVal('mamaDeliveryType', mama.deliveryType);
        setVal('mamaBabyName', mama.babyName);
        setVal('mamaNotes', mama.notes);

        appData.mamaProfile = mama;
        saveToStorage();
    }

    async function readFileAsText(file) {
        return new Promise((resolve, reject) => {
            const reader = new FileReader();
            reader.onload = () => resolve(String(reader.result || ''));
            reader.onerror = () => reject(reader.error);
            reader.readAsText(file);
        });
    }

    async function analyzeUploadedFiles() {
        const babyProfileFile = document.getElementById('babyProfileFile').files[0] || null;
        const mamaProfileFile = document.getElementById('mamaProfileFile').files[0] || null;
        const babyDataFile = document.getElementById('babyDataFile').files[0] || null;
        const mamaDataFile = document.getElementById('mamaDataFile').files[0] || null;

        // Profiles (key/value CSV)
        if (babyProfileFile) {
            const text = await readFileAsText(babyProfileFile);
            const map = csvToKeyValueMap(text);
            if (map) {
                applyBabyProfileFromMap(map);
            } else {
                alert('âš ï¸ Î¤Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ Baby Profile Î´ÎµÎ½ ÎµÎ¯Î½Î±Î¹ ÏƒÎµ Î¼Î¿ÏÏ†Î® field,value. Î Î±ÏÎ±ÎºÎ±Î»Ï Î­Î»ÎµÎ³Î¾Î­ Ï„Î¿.');
            }
        }

        if (mamaProfileFile) {
            const text = await readFileAsText(mamaProfileFile);
            const map = csvToKeyValueMap(text);
            if (map) {
                applyMamaProfileFromMap(map);
            } else {
                // Î‘Î½ Î¿ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ Î±Î½Î­Î²Î±ÏƒÎµ ÎºÎ±Ï„Î¬ Î»Î¬Î¸Î¿Ï‚ Ï„Î¿ mama data (Î¼Îµ header date,time,activity,...)
                const { headers } = parseCSVJS(text);
                const h0 = (headers[0] || '').toLowerCase();
                const h2 = (headers[2] || '').toLowerCase();
                if (h0 === 'date' && h2 === 'activity') {
                    alert('â„¹ï¸ Î¤Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ Ï€Î¿Ï… Î±Î½Î­Î²Î±ÏƒÎµÏ‚ ÏƒÏ„Î¿ "Mama Profile" Ï†Î±Î¯Î½ÎµÏ„Î±Î¹ Î½Î± ÎµÎ¯Î½Î±Î¹ Mama Data (Î·Î¼ÎµÏÎ¿Î»ÏŒÎ³Î¹Î¿). Î’Î¬Î»Ï„Î¿ ÏƒÏ„Î¿ "Mama Data" Î³Î¹Î± Î½Î± Ï„Î¿ Î´Î¹Î±Î²Î¬ÏƒÎ¿Ï…Î¼Îµ ÏƒÏ‰ÏƒÏ„Î¬.');
                } else {
                    alert('âš ï¸ Î¤Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ Mama Profile Î´ÎµÎ½ ÎµÎ¯Î½Î±Î¹ ÏƒÎµ Î¼Î¿ÏÏ†Î® field,value. Î Î±ÏÎ±ÎºÎ±Î»Ï Î­Î»ÎµÎ³Î¾Î­ Ï„Î¿.');
                }
            }
        }

        // Data files (optional - store raw rows for now)
        if (babyDataFile) {
            const text = await readFileAsText(babyDataFile);
            const { headers, rows } = parseCSVJS(text);
            // Minimal normalization to current app format, when possible
            if (headers.length >= 3 && (headers[0].toLowerCase() === 'date') && (headers[2].toLowerCase() === 'activity')) {
                appData.babyEntries = rows.map(r => ({
                    date: r[0] || '',
                    time: r[1] || '',
                    activity: r[2] || '',
                    type: r[3] || '',
                    subtype: r[4] || '',
                    value: r[5] || '',
                    duration: r[6] || '',
                    notes: r[7] || ''
                })).filter(e => e.date && e.activity);
                saveToStorage();
            } else {
                alert('âš ï¸ Î¤Î¿ Baby Data CSV Î´ÎµÎ½ Î­Ï‡ÎµÎ¹ Î±Î½Î±Î¼ÎµÎ½ÏŒÎ¼ÎµÎ½Î· Î´Î¿Î¼Î® (date,time,activity,...)');
            }
        }

        if (mamaDataFile) {
            const text = await readFileAsText(mamaDataFile);
            const { headers, rows } = parseCSVJS(text);

            // Accept big "mama_data_complete" style too â€” at minimum date/time/activity must exist.
            if (headers.length >= 3 && headers[0].toLowerCase() === 'date' && headers[2].toLowerCase() === 'activity') {
                const idx = (name) => headers.findIndex(h => h.toLowerCase() === name.toLowerCase());

                const iMoodScale = idx('mood_scale');
                const iDominantEmotion = idx('dominant_emotion');
                const iNotes = idx('notes');

                appData.mamaEntries = rows.map(r => {
                    const activity = r[2] || '';
                    const base = { date: r[0] || '', time: r[1] || '', activity };

                    if (activity === 'mood') {
                        return {
                            ...base,
                            scale: iMoodScale >= 0 ? (r[iMoodScale] || '') : '',
                            emotion: iDominantEmotion >= 0 ? (r[iDominantEmotion] || '') : '',
                            notes: iNotes >= 0 ? (r[iNotes] || '') : ''
                        };
                    }

                    // fallback generic
                    return {
                        ...base,
                        type: r[3] || '',
                        subtype: r[4] || '',
                        value: r[5] || '',
                        notes: iNotes >= 0 ? (r[iNotes] || '') : ''
                    };
                }).filter(e => e.date && e.activity);

                saveToStorage();
            } else {
                alert('âš ï¸ Î¤Î¿ Mama Data CSV Î´ÎµÎ½ Î­Ï‡ÎµÎ¹ Î±Î½Î±Î¼ÎµÎ½ÏŒÎ¼ÎµÎ½Î· Î´Î¿Î¼Î® (date,time,activity,...)');
            }
        }

        // Reveal sections if we now have profiles
        if (appData.babyProfile) {
            document.getElementById('babySetup').style.display = 'none';
            document.getElementById('babyData').style.display = 'block';
        } else {
            document.getElementById('babySetup').style.display = 'block';
        }

        if (appData.mamaProfile) {
            document.getElementById('mamaSetup').style.display = 'none';
            document.getElementById('mamaData').style.display = 'block';
        } else {
            document.getElementById('mamaSetup').style.display = 'block';
        }

        updateUI();
        alert('âœ… Î¤Î± Î±ÏÏ‡ÎµÎ¯Î± Ï†Î¿ÏÏ„ÏÎ¸Î·ÎºÎ±Î½ ÎºÎ±Î¹ ÎµÏ†Î±ÏÎ¼ÏŒÏƒÏ„Î·ÎºÎ±Î½!');
        switchTab('stats'); // quick sanity check
    }

    function wireUploadUI() {
        const map = [
            ['babyProfileFile', 'babyProfileFileName'],
            ['babyDataFile', 'babyDataFileName'],
            ['mamaProfileFile', 'mamaProfileFileName'],
            ['mamaDataFile', 'mamaDataFileName'],
        ];

        map.forEach(([inputId, labelId]) => {
            const input = document.getElementById(inputId);
            const label = document.getElementById(labelId);
            if (!input || !label) return;

            input.addEventListener('change', () => {
                label.textContent = input.files && input.files[0] ? input.files[0].name : 'Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Î±ÏÏ‡ÎµÎ¯Î¿...';
                const anySelected = map.some(([id]) => {
                    const el = document.getElementById(id);
                    return el && el.files && el.files.length > 0;
                });
                document.getElementById('uploadAnalyzeBtn').disabled = !anySelected;
            });
        });

        document.getElementById('uploadAnalyzeBtn').addEventListener('click', analyzeUploadedFiles);
    }

// Initialize
    wireUploadUI();
    loadFromStorage();
    updateUI();
</script>
</body>
</html>